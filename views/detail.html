<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Business Tip Details</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@1/css/pico.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #667eea;
            --secondary: #764ba2;
            --accent: #f093fb;
            --success: #4facfe;
            --warning: #f093fb;
            --dark: #2d3748;
            --light: #f7fafc;
        }

        * {
            font-family: "Inter", sans-serif;
        }

        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            margin: 0;
        }

        .hero {
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.9) 0%, rgba(118, 75, 162, 0.9) 100%);
            color: white;
            padding: 3rem 0;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .hero::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.1'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E") repeat;
            animation: float 20s infinite linear;
        }

        @keyframes float {
            0% { transform: translateY(0px); }
            100% { transform: translateY(-60px); }
        }

        .hero h1 {
            font-size: 2.5rem;
            font-weight: 700;
            margin: 0 0 1rem 0;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            position: relative;
            z-index: 1;
        }

        .back-btn {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 25px;
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s ease;
            display: inline-block;
            border: 2px solid rgba(255, 255, 255, 0.3);
            position: relative;
            z-index: 1;
        }

        .back-btn:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
        }

        .main-container {
            background: white;
            margin: -2rem 1rem 2rem 1rem;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            padding: 3rem;
            position: relative;
            z-index: 2;
        }

        .detail-card {
            max-width: 900px;
            margin: 0 auto;
        }

        .tip-image {
            width: 100%;
            height: 300px;
            object-fit: cover;
            border-radius: 16px;
            margin-bottom: 2rem;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .tip-header {
            text-align: center;
            margin-bottom: 3rem;
            padding-bottom: 2rem;
            border-bottom: 2px solid #f0f0f0;
        }

        .tip-title {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--dark);
            margin: 0 0 1rem 0;
        }

        .tip-meta {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-bottom: 2rem;
            flex-wrap: wrap;
        }

        .meta-badge {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 25px;
            font-size: 0.9rem;
            font-weight: 500;
        }

        .difficulty-badge {
            background: linear-gradient(135deg, #f093fb, #f5576c);
        }

        .time-badge {
            background: linear-gradient(135deg, #4facfe, #00f2fe);
        }

        .author-badge {
            background: linear-gradient(135deg, #a8edea, #fed6e3);
            color: var(--dark);
        }

        .tip-content {
            line-height: 1.8;
            font-size: 1.1rem;
            color: #555;
            margin-bottom: 2rem;
        }

        .tip-description {
            background: linear-gradient(135deg, #f8f9ff, #f0f4ff);
            padding: 2rem;
            border-radius: 16px;
            border-left: 4px solid var(--primary);
            margin: 2rem 0;
            font-style: italic;
            font-size: 1.2rem;
            color: var(--dark);
        }

        .tip-details {
            background: #f8f9fa;
            padding: 2rem;
            border-radius: 16px;
            margin: 2rem 0;
        }

        .tip-details h3 {
            color: var(--dark);
            margin-bottom: 1rem;
        }

        .tip-details ul {
            list-style: none;
            padding: 0;
        }

        .tip-details li {
            padding: 0.5rem 0;
            border-bottom: 1px solid #eee;
        }

        .tip-details li:before {
            content: "‚úì";
            color: var(--primary);
            font-weight: bold;
            margin-right: 0.5rem;
        }

        .loading {
            text-align: center;
            padding: 3rem;
            color: #666;
        }

        .spinner {
            border: 3px solid #f3f3f3;
            border-top: 3px solid var(--primary);
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto 1rem;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        @media (max-width: 768px) {
            .hero h1 {
                font-size: 2rem;
            }
            
            .main-container {
                margin: -1rem 0.5rem 1rem 0.5rem;
                padding: 1.5rem;
            }
            
            .tip-title {
                font-size: 2rem;
            }
            
            .tip-meta {
                flex-direction: column;
                align-items: center;
            }
        }
    </style>
</head>
<body>
    <div class="hero">
        <h1 id="tip-title">Loading...</h1>
        <a href="/" class="back-btn">‚Üê Back to Business Tips</a>
    </div>
    
    <div class="main-container">
        <div class="loading" id="loading">
            <div class="spinner"></div>
            <p>Loading tip details...</p>
        </div>
        
        <article class="detail-card" id="tip-details" style="display: none;">
            <!-- Tip details will be loaded here -->
        </article>
    </div>

    <script>
        const tipId = window.location.pathname.split("/").pop();
        
        setTimeout(() => {
            fetch(`/api/tips/${tipId}`)
                .then(res => res.json())
                .then(tip => {
                    const loading = document.getElementById("loading");
                    const details = document.getElementById("tip-details");
                    
                    if (tip.error) {
                        loading.style.display = "none";
                        details.style.display = "block";
                        document.getElementById("tip-title").textContent = "Tip Not Found";
                        details.innerHTML = `
                            <div class="tip-header">
                                <h1 class="tip-title">‚ùå Tip Not Found</h1>
                            </div>
                            <div class="tip-content">
                                <p>This business tip could not be found. It might have been removed or the URL might be incorrect.</p>
                                <p>Please check the URL or return to our <a href="/">Business Tips homepage</a> to browse available tips.</p>
                            </div>
                        `;
                    } else {
                        loading.style.display = "none";
                        details.style.display = "block";
                        
                        document.getElementById("tip-title").textContent = tip.title;
                        details.innerHTML = `
                            <img src="${tip.image}" alt="${tip.title}" class="tip-image">
                            
                            <div class="tip-header">
                                <h1 class="tip-title">${tip.title}</h1>
                                <div class="tip-meta">
                                    <span class="meta-badge">${tip.category}</span>
                                    <span class="meta-badge difficulty-badge">${tip.difficulty}</span>
                                    <span class="meta-badge time-badge">${tip.time}</span>
                                    <span class="meta-badge author-badge">üë§ ${tip.author}</span>
                                </div>
                            </div>
                            
                            <div class="tip-description">
                                ${tip.desc}
                            </div>
                            
                            <div class="tip-content">
                                <p>This comprehensive guide will walk you through all the essential concepts and provide practical examples to help you implement these strategies in your own business. Whether you're just starting out or looking to scale your existing venture, these insights will give you the tools you need to succeed.</p>
                                
                                <p>You'll learn step-by-step processes, common pitfalls to avoid, and real-world case studies that demonstrate how these principles work in practice. Each section builds upon the previous one, creating a complete framework for business success.</p>
                            </div>
                            
                            <div class="tip-details">
                                <h3>What You'll Learn:</h3>
                                <ul>
                                    <li>Core concepts and fundamental principles</li>
                                    <li>Step-by-step implementation strategies</li>
                                    <li>Common mistakes and how to avoid them</li>
                                    <li>Real-world examples and case studies</li>
                                    <li>Tools and resources for continued learning</li>
                                    <li>Best practices from industry experts</li>
                                </ul>
                            </div>
                            
                            <div class="tip-content">
                                <p><strong>Ready to get started?</strong> Take your time with each section, and don't hesitate to revisit concepts as you implement them in your business. Remember, successful entrepreneurs are always learning and adapting.</p>
                            </div>
                        `;
                    }
                })
                .catch(err => {
                    console.error("Error loading tip:", err);
                    document.getElementById("loading").innerHTML = "<p>‚ùå Error loading tip details. Please try again.</p>";
                });
        }, 800);
    </script>
</body>
</html>
